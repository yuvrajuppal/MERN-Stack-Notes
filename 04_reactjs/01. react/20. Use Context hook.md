# React useContext Hook Tutorial

React's `useContext` hook simplifies sharing state across components without prop drilling. It consumes values from a Context object created with `React.createContext()`.​[](https://www.w3schools.com/react/react_usecontext.asp)​

## Why Use useContext?

- Avoids passing props through every intermediate component.
    
- Ideal for global data like themes, user info, or auth state.
    
- Components re-render only when the consumed context value changes.[](https://www.geeksforgeeks.org/reactjs/reactjs-usecontext-hook/)
    

## Basic Setup

1. **Create Context**: `const MyContext = React.createContext(defaultValue);`
    
2. **Provide Value**: Wrap components in `<MyContext.Provider value={data}>...</MyContext.Provider>`
    
3. **Consume**: `const value = useContext(MyContext);`[](https://www.w3schools.com/react/react_usecontext.asp)
    

## Full Example: Theme Toggle

```jsx
import React, { createContext, useContext, useState } from 'react';

const ThemeContext = createContext();

function App() {
  const [theme, setTheme] = useState('light');

  return (
    <ThemeContext.Provider value={{ theme, setTheme }}>
      <Toolbar />
    </ThemeContext.Provider>
  );
}

function Toolbar() {
  return (
    <div>
      <ThemedButton>Default</ThemedButton>
      <ThemedButton>Toggle Theme</ThemedButton>
    </div>
  );
}

function ThemedButton({ children }) {
  const { theme, setTheme } = useContext(ThemeContext);
  return (
    <button
      style={{
        background: theme === 'light' ? '#fff' : '#333',
        color: theme === 'light' ? '#000' : '#fff',
      }}
      onClick={() => setTheme(theme === 'light' ? 'dark' : 'light')}
    >
      {children}
    </button>
  );
}

export default App;
```


This example toggles theme state globally. Both buttons access and update the theme via context.

## Advanced Tips

- **Multiple Contexts**: Use separate contexts for unrelated data (e.g., ThemeContext, UserContext).
- **Custom Hook**: Wrap useContext for reuse: `function useTheme() { return useContext(ThemeContext); }`
- **Performance**: Split providers or use `useMemo` for complex values to avoid unnecessary re-renders.​
## Common Pitfalls

| Issue                       | Solution                                                                                                    |
| --------------------------- | ----------------------------------------------------------------------------------------------------------- |
| Context undefined           | Ensure Provider wraps consumer; use default value. [](https://www.telerik.com/blogs/react-usecontext-hook)​ |
| Too many re-renders         | Memoize value prop or split contexts.                                                                       |
| Prop drilling still happens | Only for Provider itself—consumers skip intermediates.                                                      |
